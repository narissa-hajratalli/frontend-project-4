{"remainingRequest":"/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/node_modules/babel-loader/lib/index.js!/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/src/views/Home.vue","mtime":1600396970809},{"path":"/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9tZScsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRhaWx5TG9nczogW10sCiAgICAgIHdlZWtzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBfdGhpcyQkcm91dGUkcXVlcnkgPSB0aGlzLiRyb3V0ZS5xdWVyeSwKICAgICAgICB0b2tlbiA9IF90aGlzJCRyb3V0ZSRxdWVyeS50b2tlbiwKICAgICAgICBVUkwgPSBfdGhpcyQkcm91dGUkcXVlcnkuVVJMOyAvLyBBUEkgQ0FMTCwgZmV0aW5nIGZyb20gdGhlIC9kYWlseV9jb25zdW1wdGlvbiBlbmRwb2ludCwgd2hpY2ggZ2F0aGVycyBhbGwgdGhlIGRhaWx5IGxvZ3MgaW4KICAgIC8vIHRoZSBkYXRhYmFzZSwgcmVnYXJkbGVzcyBvZiB3ZWVrLiAKCiAgICBmZXRjaCgiIi5jb25jYXQoVVJMLCAiL21lYXRfY29uc3VtcHRpb24vZGFpbHlfY29uc3VtcHRpb24vIiksIHsKICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgaGVhZGVyczogewogICAgICAgICdhdXRob3JpemF0aW9uJzogIkpXVCAiLmNvbmNhdCh0b2tlbikKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXMuZGFpbHlMb2dzID0gZGF0YTsKICAgIH0pOwogIH0sCiAgLy8vLy8vLy8vIFBPUFVMQVRJTkcgVEhFIFdFRUtTIElOIEEgRFJPUERPV04gTUVOVSAvLy8vLy8KICAvLy8vIGJlZm9yZUNyZWF0ZWQ6IENhbGxlZCBzeW5jaHJvbm91c2x5IGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBpbnN0YW5jZSBoYXMgYmVlbiBpbml0aWFsaXplZAogIC8vLy8gaHR0cHM6Ly92dWVqcy5vcmcvdjIvYXBpLyNjcmVhdGVkCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAvLyBHcmFicyB0aGUgdG9rZW4gYW5kIHRoZSBVUkwKICAgIHZhciBfdGhpcyQkcm91dGUkcXVlcnkyID0gdGhpcy4kcm91dGUucXVlcnksCiAgICAgICAgdG9rZW4gPSBfdGhpcyQkcm91dGUkcXVlcnkyLnRva2VuLAogICAgICAgIFVSTCA9IF90aGlzJCRyb3V0ZSRxdWVyeTIuVVJMOyAvL0FQSSBDQUxMIC0gZmV0Y2hlcyBhbGwgdGhlIHdlZWtzIGluIHRoZSBkYXRhYmFzZQoKICAgIGZldGNoKCIiLmNvbmNhdChVUkwsICIvbWVhdF9jb25zdW1wdGlvbi93ZWVrbHlfY29uc3VtcHRpb24vIiksIHsKICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgaGVhZGVyczogewogICAgICAgICdhdXRob3JpemF0aW9uJzogIkpXVCAiLmNvbmNhdCh0b2tlbikKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgX3RoaXMyLndlZWtzID0gZGF0YTsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICB9KTsKICB9LAogIC8vLy8vLy8gTUVUSE9EIEFTU09DSUFURSBXSVRIIFRIRSBCVVRUT04gVE8gRklORCBUSEUgREFJTFkgTE9HUyBGT1IgT05FIFdFRUsgLy8vLy8KICAvLy8vLyBNRVRIT0QgVE8gSEFWRSBUSEUgVVNFUiBTVEFZIExPR0dFRCBJTiBXSEVOIFRIRVkgUkVGUkVTSCAvLy8KICBzdGF5X2xvZ2dlZF9pbjogZnVuY3Rpb24gc3RheV9sb2dnZWRfaW4oKSB7CiAgICB2YXIgZ2V0TG9naW4gPSBKU09OLnBhcnNlKHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdsb2dpbicpKTsKCiAgICBpZiAoZ2V0TG9naW4pIHsKICAgICAgdGhpcy51c2VyID0gZ2V0TG9naW4udXNlcjsKICAgICAgdGhpcy50b2tlbiA9IGdldExvZ2luLnRva2VuOwogICAgICB0aGlzLmxvZ2dlZGluID0gdHJ1ZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,OAAA,EAAA,mBAAA;AAAA;;AAAA,6BACA,KAAA,MAAA,CAAA,KADA;AAAA,QACA,KADA,sBACA,KADA;AAAA,QACA,GADA,sBACA,GADA,EAGA;AACA;;AACA,IAAA,KAAA,WAAA,GAAA,2CAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AACA,uCAAA,KAAA;AADA;AAFA,KAAA,CAAA,CAMA,IANA,CAMA,UAAA,QAAA;AAAA,aAAA,QAAA,CAAA,IAAA,EAAA;AAAA,KANA,EAOA,IAPA,CAOA,UAAA,IAAA,EAAA;AACA,MAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,KATA;AAUA,GAvBA;AAyBA;AACA;AACA;AACA,EAAA,YAAA,EAAA,wBAAA;AAAA;;AACA;AADA,8BAEA,KAAA,MAAA,CAAA,KAFA;AAAA,QAEA,KAFA,uBAEA,KAFA;AAAA,QAEA,GAFA,uBAEA,GAFA,EAIA;;AACA,IAAA,KAAA,WAAA,GAAA,4CAAA;AACA,MAAA,MAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA;AACA,uCAAA,KAAA;AADA;AAFA,KAAA,CAAA,CAMA,IANA,CAMA,UAAA,QAAA;AAAA,aAAA,QAAA,CAAA,IAAA,EAAA;AAAA,KANA,EAOA,IAPA,CAOA,UAAA,IAAA,EAAA;AACA,MAAA,MAAA,CAAA,KAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AACA,KAVA;AAWA,GA5CA;AA8CA;AAGA;AACA,EAAA,cAAA,EAAA,0BAAA;AACA,QAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,cAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;;AACA,QAAA,QAAA,EAAA;AACA,WAAA,IAAA,GAAA,QAAA,CAAA,IAAA;AACA,WAAA,KAAA,GAAA,QAAA,CAAA,KAAA;AACA,WAAA,QAAA,GAAA,IAAA;AACA;AACA;AAzDA,CAAA","sourcesContent":["<template v-if=\"loggedIn\">\n  <div class=\"home\">\n    <h1> HOME PAGE</h1>\n    <ul>\n      <li v-for=\"dailyLog of dailyLogs\" v-bind:key=\"dailyLog.id\">{{ dailyLog.daily_servings }}</li>\n    </ul>\n\n    <!-- DROPDOWN MENU CONTAINING EACH WEEK --> \n    <section v-if=\"loggedIn\">\n        <b-field label=\"Select a Weekly Log\">\n            <b-select placeholder=\"Select a week\">\n                <!-- v-for directive loops over all the weeks in the database --> \n                <!-- and populates each week in the dropdown menu --> \n                <!-- also making each field in the dropdown menu associate with the week's id --> \n                <option\n                    v-for=\"week in weeks\"\n                    :id=\"week.id\" \n                    :value=\"week.id\"\n                    :key=\"week.id\">\n                    <!-- This selects just what the week's number is in the database and interpolates it with -->\n                    <!-- the word \"Week\" to maintain consistent spelling -->  \n                    {{ `Week ${week.week_number}` }}\n                </option>\n            </b-select><b-button type=\"is-success\">Find</b-button><b-button type=\"is-success is-light\">Add</b-button>\n        </b-field>\n    </section>\n    \n    \n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Home',\n  data: function(){\n    return {\n      dailyLogs: [],\n      weeks: []\n    }\n  },\n  created: function(){\n    const {token, URL} = this.$route.query\n\n    // API CALL, feting from the /daily_consumption endpoint, which gathers all the daily logs in\n    // the database, regardless of week. \n    fetch(`${URL}/meat_consumption/daily_consumption/`, {\n      method: 'get',\n      headers: {\n        'authorization': `JWT ${token}`\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      this.dailyLogs = data\n    })\n  },\n\n  ///////// POPULATING THE WEEKS IN A DROPDOWN MENU //////\n  //// beforeCreated: Called synchronously immediately after the instance has been initialized\n  //// https://vuejs.org/v2/api/#created\n  beforeCreate: function() {\n    // Grabs the token and the URL\n    const {token, URL} = this.$route.query\n\n    //API CALL - fetches all the weeks in the database\n    fetch(`${URL}/meat_consumption/weekly_consumption/`, {\n      method: 'get',\n      headers: {\n        'authorization': `JWT ${token}`\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      this.weeks = data\n      console.log(data)\n    })\n  },\n\n  /////// METHOD ASSOCIATE WITH THE BUTTON TO FIND THE DAILY LOGS FOR ONE WEEK /////\n\n\n  ///// METHOD TO HAVE THE USER STAY LOGGED IN WHEN THEY REFRESH ///\n  stay_logged_in: function() {\n      const getLogin = JSON.parse(window.sessionStorage.getItem('login'))\n      if (getLogin) {\n      this.user = getLogin.user\n      this.token = getLogin.token\n      this.loggedin = true\n    }\n  }\n}\n</script>\n"],"sourceRoot":"src/views"}]}