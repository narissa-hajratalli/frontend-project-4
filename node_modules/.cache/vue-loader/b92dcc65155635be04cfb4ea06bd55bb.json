{"remainingRequest":"/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/src/views/Home.vue","mtime":1600480379952},{"path":"/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/narissa.k.hajratalli/Documents/GA-SEI/project-4-python-django/project-4/p4frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSG9tZScsCiAgZGF0YTogZnVuY3Rpb24oKXsKICAgIHJldHVybiB7CiAgICAgIGRhaWx5TG9nczogW10sCiAgICAgIHdlZWtzOiBbXSwKICAgICAgd2Vla0lEOiAwLAogICAgICBkYXRlOiBuZXcgRGF0ZSgpCiAgICB9CiAgfSwKCi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgLy8vLy8vLy8vIFBPUFVMQVRJTkcgVEhFIFdFRUtTIElOIEEgRFJPUERPV04gTUVOVSAvLy8vLy8KICAvLy8vIGJlZm9yZUNyZWF0ZWQ6IENhbGxlZCBzeW5jaHJvbm91c2x5IGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBpbnN0YW5jZSBoYXMgYmVlbiBpbml0aWFsaXplZAogIC8vLy8gd2FudCB0aGlzIHRvIGJlIGJlZm9yZSBjcmVhdGVkIHNvIHRoZSB3ZWVrcyBhcmUgYWxyZWFkeSBwb3B1bGF0ZWQgaW4gdGhlIGRyb3Bkb3duCiAgLy8vLyBodHRwczovL3Z1ZWpzLm9yZy92Mi9hcGkvI2NyZWF0ZWQKICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uKCkgewogICAgLy8gR3JhYnMgdGhlIHRva2VuIGFuZCB0aGUgVVJMCiAgICBjb25zdCB7dG9rZW4sIFVSTH0gPSB0aGlzLiRyb3V0ZS5xdWVyeQoKICAgIC8vQVBJIENBTEwgLSBmZXRjaGVzIGFsbCB0aGUgd2Vla3MgaW4gdGhlIGRhdGFiYXNlCiAgICBmZXRjaChgJHtVUkx9L21lYXRfY29uc3VtcHRpb24vd2Vla2x5X2NvbnN1bXB0aW9uL2AsIHsKICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgaGVhZGVyczogewogICAgICAgICdhdXRob3JpemF0aW9uJzogYEpXVCAke3Rva2VufWAKICAgICAgfQogICAgfSkKICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgIC50aGVuKGRhdGEgPT4gewogICAgICB0aGlzLndlZWtzID0gZGF0YQogICAgICBjb25zb2xlLmxvZyhkYXRhKQogICAgICBjb25zb2xlLmxvZyh0aGlzLndlZWtJRCkKICAgIH0pCgogIH0sCgovLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIE1FVEhPRFMgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8KCiAgbWV0aG9kczogewoKICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogIC8vLy8vLy8vLy8vLy8vLy8gQ1JFQVRJTkcgQSBXRUVLIC8vLy8vLy8vLy8vLy8vLwoKICAgIC8vICAgY29uc3QgeyB0b2tlbiwgVVJMIH0gPSB0aGlzLiRyb3V0ZS5xdWVyeTsKCiAgICAvLyAgIGZldGNoKGAke1VSTH0vbWVhdF9jb25zdW1wdGlvbi93ZWVrbHlfY29uc3VtcHRpb24vYCwgewogICAgLy8gICAgIG1ldGhvZDogInBvc3QiLAogICAgLy8gICAgIGhlYWRlcnM6IHsKICAgIC8vICAgICAgIGF1dGhvcml6YXRpb246IGBKV1QgJHsgdG9rZW4gfWAsCiAgICAvLyAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgLy8gICAgIH0sCiAgICAvLyAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB3ZWVrX251bWJlcjogdGhpcy52YWx1ZSB9KSwKICAgIC8vICAgfSkudGhlbigoKSA9PiB7CiAgICAvLyAgICAgY29uc29sZS5sb2coIm5ldyB3ZWVrIGNyZWF0ZWQhIikKICAgIC8vICAgfSkKICAgIC8vIH0sCgogIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vCiAgLy8vLy8vLy8vLy8vLy8vLyBGSU5EIEFMTCBUSEUgREFJTFkgTE9HUyBBU1NPQ0lBVEVEIFdJVEggT05FIFdFRUsgLy8vLy8vLy8vLy8vLy8vCiAgLy8vLyB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSAiRmluZCIgYnV0dG9uIGluIHRoZSBmb3JtIG9mIGFuIG9uLWNsaWNrIGV2ZW50IAogIGZpbmREYWlseUxvZ3M6IGFzeW5jIGZ1bmN0aW9uKGV2ZW50KSB7ICAgCiAgICAgIC8vIEdyYWJzIHRoZSB0b2tlbiBhbmQgdGhlIFVSTAogICAgICBjb25zdCB7dG9rZW4sIFVSTH0gPSB0aGlzLiRyb3V0ZS5xdWVyeQoKICAgICAgLy8gR3JhYmluZyB0aGUgaWQgZnJvbSB0aGUgd2VlawogICAgICBjb25zdCBpZCA9IGV2ZW50LnRhcmdldC52YWx1ZQogICAgICBjb25zb2xlLmxvZyhpZCkKCiAgICAgIC8vIEFQSSBDQUxMIC0gZmV0Y2hlcyB0aGUgZGF5cyBpbiB0aGUgZGF0YWJhc2UgdGhhdCBiZWxvbmcgdG8gb25lIHdlZWsKICAgICAgZmV0Y2goYCR7VVJMfS9tZWF0X2NvbnN1bXB0aW9uL3dlZWtseV9jb25zdW1wdGlvbi8ke2lkfS9kYWlseV9jb25zdW1wdGlvbmAsIHsKICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdhdXRob3JpemF0aW9uJzogYEpXVCAke3Rva2VufWAKICAgICAgICB9CiAgICAgIH0pCiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSkKICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgdGhpcy5kYWlseUxvZ3MgPSBkYXRhCiAgICAgICAgY29uc29sZS5sb2coZGF0YSkKICAgICAgfSkKICAgIH0sCiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLwogIC8vLy8vLy8vLy8vLy8vLy8gREVMRVRFIE9ORSBEQUlMWSBMT0cgLy8vLy8vLy8vLy8vLy8vCiAgZGVsZXRlTG9nOiBmdW5jdGlvbihldmVudCl7CiAgICAgIC8vIERlc3RydWN0dXJpbmcgdGhlIHRva2VuIGFuZCB0aGUgVVJMIGZyb20gdGhlIHJlcXVlc3QKICAgICAgY29uc3QgeyB0b2tlbiwgVVJMIH0gPSB0aGlzLiRyb3V0ZS5xdWVyeTsKCiAgICAgIC8vIEdyYWJiaW5nIHRoZSBpZCBmcm9tIHRoZSBkZWxldGUgYnV0dG9uLCB3aGljaCBpcyB0aGUgdGFyZ2V0CiAgICAgIGNvbnN0IGlkID0gZXZlbnQudGFyZ2V0LmlkOwoKICAgICAgLy8gRmV0Y2ggcmVxdWVzdCB0byB0aGUgZW5kcG9pbnQgd2l0aCB0aGUgaWQgb24gdGhlIGRlbGV0ZSBidXR0b24KICAgICAgZmV0Y2goYCR7VVJMfS9tZWF0X2NvbnN1bXB0aW9uL2RhaWx5X2NvbnN1bXB0aW9uLyR7aWR9L2AsIHsKICAgICAgICBtZXRob2Q6ICJkZWxldGUiLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdhdXRob3JpemF0aW9uJzogYEpXVCAke3Rva2VufWAsCiAgICAgICAgfSwKCiAgICAgIC8vIERlbGV0ZSBtZXRob2QgcGVyZm9ybWVkLCB0aGVuIHJlLXBvcHVsYXRlIHRoZSBzY3JlZW4gd2l0aCB0aGUgcmVtYWluaW5nIGxvZ3MgCiAgICAgIC8vIHNvIHRoZSB1c2VyIGRvZXNuJ3QgaGF2ZSB0byByZXF1ZXN0CiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuZmluZERhaWx5TG9ncygpCiAgICAgIH0pOwogICAgfSwKICB9Cgp9Cgo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template v-if=\"loggedIn\">\n  <div class=\"home\">\n    <img src=\"https://res.cloudinary.com/ds7vqqwb8/image/upload/v1600477007/Project%203%20-%20leaft/Cream_and_Black_Natural_Makeup_Beauty_Logo_hyk9je.png\" alt=\"\">  \n<!---------------------------------------------------------------------------------------------------------------> \n\n    <!----------- CREATE INPUT FIELDS----------> \n    <section>\n      <b-field label=\"Select a date\">\n        <b-datepicker v-model=\"date\"\n            :first-day-of-week=\"1\"\n            placeholder=\"Click to select...\">\n\n            <button class=\"button is-primary\"\n                @click=\"date = new Date()\">\n                <b-icon icon=\"calendar-today\"></b-icon>\n                <span>Today</span>\n            </button>\n\n            <button class=\"button is-danger\"\n                @click=\"date = null\">\n                <b-icon icon=\"close\"></b-icon>\n                <span>Clear</span>\n            </button>\n        </b-datepicker>\n      </b-field>\n\n      <b-field label=\"Ate meat? Be honest; it's okay!\">\n        <b-select placeholder=\"Ate meat? Be honest--it's okay!\">\n          <option>Yes</option>\n          <option>No</option>\n        </b-select>\n      </b-field>\n\n      <b-field label=\"How many\">\n        <b-numberinput type=\"is-success\" min=0></b-numberinput>\n      </b-field>\n            \n    </section>\n  \n\n\n<!---------------------------------------------------------------------------------------------------------------> \n\n    <!----------- DROPDOWN AREA ----------> \n    <section>\n        <!----------- Dropdown menu with weeks ----------> \n        <b-field label=\"Select a Weekly Log\">\n            <b-select v-model=\"weekID\" placeholder=\"Select a week\" >\n                <!-- v-for directive loops over all the weeks in the database --> \n                <!-- and populates each week in the dropdown menu --> \n                <!-- also making each field in the dropdown menu associate with the week's id --> \n                <option\n                    v-for=\"week in weeks\"\n                    :id=\"week.id\" \n                    :value=\"week.id\"\n                    :key=\"week.id\">\n                    <!-- This selects just what the week's number is in the database and interpolates it with -->\n                    <!-- the word \"Week\" to maintain consistent spelling -->  \n                    {{ `Week ${week.week_number}` }}\n                </option>\n              </b-select>\n\n\n\n            <!----------- Find button ---------->                \n            <b-button type=\"is-success\" v-on:click=\"findDailyLogs\" v-model=\"weekID\">Find</b-button>\n\n            <!----------- Add a week button ---------->  \n      </b-field>\n    </section>\n\n<!---------------------------------------------------------------------------------------------------------------> \n\n      <!----------- DROPDOWN MENU CONTAINING EACH WEEK ----------> \n        <section v-for=\"dailyLog of dailyLogs\" v-bind:key=\"dailyLog.id\" v-bind:id=\"dailyLog.id\"> \n          <b-collapse class=\"card\" animation=\"slide\" aria-id=\"contentIdForA11y3\">\n            <div\n                slot=\"trigger\" \n                slot-scope=\"props\"\n                class=\"card-header\"\n                role=\"button\"\n                aria-controls=\"contentIdForA11y3\">\n                <p class=\"card-header-title\">\n                    {{ `Date: ${dailyLog.day_consumed}` }}\n                </p>\n                <a class=\"card-header-icon\">\n                    <b-icon\n                        :icon=\"props.open ? 'menu-down' : 'menu-up'\">\n                    </b-icon>\n                </a>\n            </div>\n            <div class=\"card-content\">\n                <div class=\"content\" v-bind:id=\"dailyLog.id\">\n                  {{ \n                  `\n                  Consumed meat?: ${dailyLog.consumed}\n                  Daily Servings: ${dailyLog.daily_servings}\n                  `\n                 }}\n                </div>\n            </div>\n            <footer class=\"card-footer\">\n                <a class=\"card-footer-item\" v-bind:id=\"dailyLog.id\">Edit</a>\n                <a class=\"card-footer-item\" v-bind:id=\"dailyLog.id\" v-on:click=\"deleteLog\">Delete</a>\n            </footer>\n        </b-collapse>\n      </section>\n\n<!--------------------------------------------------------------------------------------------------------------->\n\n    <!----------- DISPLAY WEEKLY TOTAL ---------->\n    <section id=\"weekly-total\">\n      <h1>{{ `Your weekly total is `}}</h1>\n    </section> \n\n  </div>\n</template>\n\n\n<script>\nexport default {\n  name: 'Home',\n  data: function(){\n    return {\n      dailyLogs: [],\n      weeks: [],\n      weekID: 0,\n      date: new Date()\n    }\n  },\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////\n  ///////// POPULATING THE WEEKS IN A DROPDOWN MENU //////\n  //// beforeCreated: Called synchronously immediately after the instance has been initialized\n  //// want this to be before created so the weeks are already populated in the dropdown\n  //// https://vuejs.org/v2/api/#created\n  beforeCreate: function() {\n    // Grabs the token and the URL\n    const {token, URL} = this.$route.query\n\n    //API CALL - fetches all the weeks in the database\n    fetch(`${URL}/meat_consumption/weekly_consumption/`, {\n      method: 'get',\n      headers: {\n        'authorization': `JWT ${token}`\n      }\n    })\n    .then(response => response.json())\n    .then(data => {\n      this.weeks = data\n      console.log(data)\n      console.log(this.weekID)\n    })\n\n  },\n\n/////////////////////////////// METHODS /////////////////////////////////////////\n\n  methods: {\n\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////// CREATING A WEEK ///////////////\n\n    //   const { token, URL } = this.$route.query;\n\n    //   fetch(`${URL}/meat_consumption/weekly_consumption/`, {\n    //     method: \"post\",\n    //     headers: {\n    //       authorization: `JWT ${ token }`,\n    //       \"Content-Type\": \"application/json\",\n    //     },\n    //     body: JSON.stringify({ week_number: this.value }),\n    //   }).then(() => {\n    //     console.log(\"new week created!\")\n    //   })\n    // },\n\n  ////////////////////////////////////////////////////////////////////////////////////////////////////////\n  //////////////// FIND ALL THE DAILY LOGS ASSOCIATED WITH ONE WEEK ///////////////\n  //// will be attached to the \"Find\" button in the form of an on-click event \n  findDailyLogs: async function(event) {   \n      // Grabs the token and the URL\n      const {token, URL} = this.$route.query\n\n      // Grabing the id from the week\n      const id = event.target.value\n      console.log(id)\n\n      // API CALL - fetches the days in the database that belong to one week\n      fetch(`${URL}/meat_consumption/weekly_consumption/${id}/daily_consumption`, {\n        method: 'get',\n        headers: {\n          'authorization': `JWT ${token}`\n        }\n      })\n      .then(response => response.json())\n      .then(data => {\n        this.dailyLogs = data\n        console.log(data)\n      })\n    },\n  /////////////////////////////////////////////////////////////////////////\n  //////////////// DELETE ONE DAILY LOG ///////////////\n  deleteLog: function(event){\n      // Destructuring the token and the URL from the request\n      const { token, URL } = this.$route.query;\n\n      // Grabbing the id from the delete button, which is the target\n      const id = event.target.id;\n\n      // Fetch request to the endpoint with the id on the delete button\n      fetch(`${URL}/meat_consumption/daily_consumption/${id}/`, {\n        method: \"delete\",\n        headers: {\n          'authorization': `JWT ${token}`,\n        },\n\n      // Delete method performed, then re-populate the screen with the remaining logs \n      // so the user doesn't have to request\n      }).then(() => {\n        this.findDailyLogs()\n      });\n    },\n  }\n\n}\n\n</script>\n"]}]}